<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin — Panel de Pagos</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header class="topbar admin">
    <h1>Panel Admin — Pagos</h1>
    <p class="subtitle">Solo admins con token podrán guardar cambios</p>
  </header>

  <main class="container">
    <section class="card">
      <h2>Login</h2>
      <p class="muted">Pega tu <strong>GitHub Personal Access Token (write to repo)</strong> — no lo subas al repo.</p>
      <div class="form-row">
        <input id="token" type="password" placeholder="Token GitHub (fine-grained)" />
        <input id="owner" placeholder="Owner (usuario u organización)" />
        <input id="repo" placeholder="Repo (ej. stock-web)" />
        <button id="btn-login">Cargar</button>
      </div>
      <div id="login-status" class="muted"></div>
    </section>

    <section class="card">
      <h2>Agregar pago</h2>
      <div class="form-row wrap">
        <input id="cliente" placeholder="Nombre cliente" />
        <input id="producto" placeholder="Producto/servicio" />
        <input id="monto" type="number" placeholder="Monto (ej. 1200)" />
        <button id="btn-add">Agregar Pago</button>
      </div>
      <div id="add-status" class="muted"></div>
    </section>

    <section class="card">
      <h2>Registros (editable)</h2>
      <div class="table-wrap">
        <table id="admin-table" class="records-table">
          <thead>
            <tr><th>Cliente</th><th>Producto</th><th>Monto</th><th>Fecha</th><th>Acción</th></tr>
          </thead>
          <tbody id="admin-body">
            <tr><td colspan="5">Cargando...</td></tr>
          </tbody>
        </table>
      </div>
      <p class="muted">Los cambios harán commits en tu repo usando la GitHub API.</p>
    </section>
  </main>

  <!-- Edit modal -->
  <div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-content card">
      <h3>Editar registro</h3>
      <input id="edit-cliente" placeholder="Cliente" />
      <input id="edit-producto" placeholder="Producto" />
      <input id="edit-monto" type="number" placeholder="Monto" />
      <div class="form-row">
        <button id="btn-save-edit">Guardar</button>
        <button id="btn-cancel-edit" class="ghost">Cancelar</button>
      </div>
      <div id="edit-status" class="muted"></div>
    </div>
  </div>

  <script src="js/admin.js"></script>
</body>
</html>
